<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>팀 짜기</title>
<link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
<div class="wrapper">
	<header>
		<div class="logo">
			<a href="index.html">
				<img th:src="@{/images/logo.png}" alt="logo">
			</a>
		</div>
	</header>
	<nav class="gnb">
		<div class="gnb_inner">
			<div class="gnb_container">
				<ul>
					<li class="active">
						<a href="/"><span>팀 짜기</span></a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="content">
		<div class="title">
			<div class="title_inner">
				<div class="title_container">
					<div class="tit">
						<div class="page_tit">
							팀 짜기
						</div>
					</div>
					<div class="btn_wrap">
						<div class="btn_list">
							<button type="button" id="reset" class="btn1">
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="92.33px" height="92.33px" viewBox="0 0 92.33 92.33" style="enable-background:new 0 0 92.33 92.33;" xml:space="preserve">
									<g>
										<path d="M70.598,16.753c-1.722-1.24-4.113-0.852-5.349,0.866c-1.242,1.716-0.853,4.113,0.865,5.35   c13.613,9.818,18.021,27.857,10.482,42.89c-4.082,8.138-11.088,14.202-19.726,17.066c-8.636,2.871-17.877,2.2-26.013-1.879   c-8.134-4.083-14.197-11.088-17.066-19.722c-2.866-8.642-2.197-17.877,1.886-26.014c4.958-9.89,14.458-16.779,25.413-18.429   c0.074-0.008,0.137-0.036,0.211-0.053l0.157,7.571c0.021,0.839,0.542,1.585,1.321,1.889c0.782,0.305,1.672,0.11,2.25-0.496   l10.904-11.379c0.794-0.828,0.764-2.142-0.062-2.933L44.492,0.577c-0.606-0.582-1.499-0.739-2.267-0.399   c-0.251,0.108-0.476,0.269-0.662,0.462c-0.372,0.389-0.585,0.919-0.579,1.479l0.151,7.212c-0.385-0.063-0.78-0.087-1.188-0.027   c-13.418,2.021-25.052,10.46-31.125,22.571C-1.499,52.451,6.85,77.584,27.424,87.901c5.989,3.005,12.362,4.429,18.646,4.429   c15.306,0,30.065-8.439,37.382-23.028C92.688,50.884,87.284,28.782,70.598,16.753z"/>
									</g>
									</svg>
								초기화
							</button>
							<button type="button" id="shuffle" class="btn2">
								<svg xmlns="http://www.w3.org/2000/svg" class="icon" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 477.88 477.88" style="enable-background:new 0 0 477.88 477.88;" xml:space="preserve">
									<g>
										<g>
											<path d="M472.897,124.269c-0.01-0.01-0.02-0.02-0.03-0.031l-0.017,0.017l-68.267-68.267c-6.78-6.548-17.584-6.36-24.132,0.42    c-6.388,6.614-6.388,17.099,0,23.713l39.151,39.151h-95.334c-65.948,0.075-119.391,53.518-119.467,119.467    c-0.056,47.105-38.228,85.277-85.333,85.333h-102.4C7.641,324.072,0,331.713,0,341.139s7.641,17.067,17.067,17.067h102.4    c65.948-0.075,119.391-53.518,119.467-119.467c0.056-47.105,38.228-85.277,85.333-85.333h95.334l-39.134,39.134    c-6.78,6.548-6.968,17.353-0.419,24.132c6.548,6.78,17.353,6.968,24.132,0.419c0.142-0.137,0.282-0.277,0.419-0.419l68.267-68.267    C479.54,141.748,479.553,130.942,472.897,124.269z"/>
										</g>
									</g>
									<g>
										<g>
											<path d="M472.897,329.069c-0.01-0.01-0.02-0.02-0.03-0.03l-0.017,0.017l-68.267-68.267c-6.78-6.548-17.584-6.36-24.132,0.42    c-6.388,6.614-6.388,17.099,0,23.712l39.151,39.151h-95.334c-20.996,0.015-41.258-7.721-56.9-21.726    c-7.081-6.222-17.864-5.525-24.086,1.555c-6.14,6.988-5.553,17.605,1.319,23.874c21.898,19.614,50.269,30.451,79.667,30.43h95.334    l-39.134,39.134c-6.78,6.548-6.968,17.352-0.42,24.132c6.548,6.78,17.352,6.968,24.132,0.42c0.142-0.138,0.282-0.277,0.42-0.42    l68.267-68.267C479.54,346.548,479.553,335.742,472.897,329.069z"/>
										</g>
									</g>
									<g>
										<g>
											<path d="M199.134,149.702c-21.898-19.614-50.269-30.451-79.667-30.43h-102.4C7.641,119.272,0,126.913,0,136.339    c0,9.426,7.641,17.067,17.067,17.067h102.4c20.996-0.015,41.258,7.721,56.9,21.726c7.081,6.222,17.864,5.525,24.086-1.555    C206.593,166.588,206.006,155.971,199.134,149.702z"/>
										</g>
									</g>
									</svg>
								팀 섞기
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="con">
			<div class="con_inner">
				<div id="name_box">
					<div class="box_header">
						<div class="tit">
							<h3>Name list</h3>
						</div>
						<div class="count">
							<p>전체 : <span th:text="${#lists.size(teamList)}"></span>명</p>
							<p>선택 : <span id="select_num">0</span>명</p>
						</div>
					</div>
					<div class="box_body">
						<div class="name_list">
							<p class="name_item" th:each="item : ${teamList}">
								<input class="name_checkbox" type="checkbox" th:id="${item }" th:value="${item }"/>
								<label class="name_label" th:for="${item }" th:text="${item }"></label>
							</p>
						</div>
					</div>
				</div>
				<div class="result_wrap">
					<div id="result_box" class="left">
						<div class="box_header">
							<div class="tit">
								<h3>Team 1</h3>
							</div>
						</div>
						<div class="box_body" id="team_1">
					
						</div>
					</div>
					<div id="result_box" class="right">
						<div class="box_header">
							<div class="tit">
								<h3>Team 2</h3>
							</div>
						</div>
						<div class="box_body" id="team_2">
					
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js" integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g==" crossorigin="anonymous"></script>
<script>
	$(document).ready(function() {
		//이름 박스 클릭시 선택 숫자 수정
		$(".name_item").on("click", function() {
			$("#select_num").text($(".name_checkbox:checked").length);
		});

		//초기화
		$("#reset").on("click", function() {
			$.each($(".name_checkbox:checked"), function(index, item) {
				$(item).prop("checked", false);	
			});
			
			$("#select_num").text("0");
			$("#team_1").html("");
			$("#team_2").html("");
		});
		
		//팀 섞기
		$("#shuffle").on("click", function() {
			$("#team_1").html("");
			$("#team_2").html("");
			
			$.each($("input.name_checkbox:checked"), function(index, item) {
				const team_limit = Math.floor($("input.name_checkbox:checked").length / 2);  
				const team_num = Math.floor(Math.random() * (1 - 0 + 1)) + 1
				const team_1 = $("#team_1");
				const team_2 = $("#team_2");
				const name_tag = $("<p>" + $(item).val() + "</p>");
				
				if(team_num === 1) {
					if(team_1.find("p").length < team_limit) {
						team_1.append(name_tag);
					} else {
						team_2.append(name_tag);
					}
				} else if(team_num === 2) {
					if(team_2.find("p").length < team_limit	) {
						team_2.append(name_tag);
					} else {
						team_1.append(name_tag);
					}
				}
			});
		});
	});
</script>
</body>
</html>